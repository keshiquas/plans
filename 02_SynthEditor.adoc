:toc: left
:imagesdir: images

= MIDI シンセサイザーエディタ

単体ハードウェアのフィジカルコントローラタイプ・シンセエディター開発案

== 現状の音色エディットにまつわる色々な問題点

=== 配置の問題

音源の音色のエディットは、原則的にそのシンセサイザー本体の操作パネルを使用する。
音源がすぐ近くに配置できるのであればこれでも問題ないが、
現実には他に多数の音源、PC、ミキサー、エフェクターなど操作を必要とするものが
あるため、物理的に無理な場合が多い。

.ラックが2列くらいまでならなんとか近くに置ける
image::rack01.jpg[]

.このあたりまで増えると、もうエディットに移動が伴う
image::rack02.jpg[]

.Hans Zimmer 氏のスタジオ。機材ラックは、もはや遥か遠くに
image::rack03.jpg[]


=== 音源の操作パネルの問題

音源自体の操作性が非常に悪い場合や、そもそも音源に充分な操作パネルが
備わっておらず、専用のソフトを使ってエディットする必要がある機種も多数ある。

.YAMAHAのFS1R  FM+フォルマントフィルターと、かなり複雑なシンセ機構搭載にも関わらず、本体パネルではその音色をフルエディット不可能
image::YAMAHA_FS1R.jpg[800, 600]

採用してはいけない操作子として、「絶対値指定タイプ」が挙げられる。
絶対値指定とは、可変抵抗のノブやスライダーのこと。
これらは、代表的な振る舞いとして以下の2つがあるが

* 操作した瞬間にその値へ変更
* 設定されている値に到達するまで変化せず、設定値に到達あるいは越えたときに値を変更し始める

いずれのタイプであっても、メモリーした音色を呼び出してさらなる作り込みをしようとした際に
とても障害となる。
実際の作曲作業の際は、複数の音色のマッチングをとるために、各音色を同時平行に
エディットし、合わせ込みをしていく必要があり、そのような作業に
絶対値指定タイプはとても操作性が悪い。

.悪い例 : NordRack2 絶対値指定の可変抵抗ノブになっている。これでは登録された音色を呼び出し、ノブを動かした時点でその値が「元の値を考慮することなく」更新されてしまう
image::NordRack2.gif[800, 600]

.対してこちらは良い例 : NordRack3 ノブは相対値指定タイプのロータリエンコーダが採用されている。メモリーされた音色を呼び出すと、ロータリーエンコーダの回りに配したLEDが現在値を示す。ノブを操作すると現在値からの増減で相対的に行われるため、前に設定登録した値から継続的に作業が行える。
image::NordRack3.jpg[800, 600]

メンテナンス上の問題もある。
音源のコントロールパネルのボタンやノブ類は、非常に過酷な使用条件に
晒されるため、耐久性やトラブルの面でも問題が多発する。

.YAMAHAのデジタルミキサー ProMix01  フェーダーやノブの不具合に泣かされた
image::YAMAHA_ProMix01.png[800, 600]

事実、個人的に所有するシンセ類は常にどこかの操作子やコネクタ、スイッチなどが
トラブルを抱えており、万全の状態で作曲作業をした事自体ほとんど無い。

=== 音色ライブラリの管理

曲の作成時には作った音色をすぐに呼び出せるようにライブラリとして
整然と管理されていることが望ましいが、現状あまり汎用性の高い管理法を持つ
シーケンサがない。

製品としてはPC上のエディタ/ライブラリアンソフトが存在する。

.OPCODE社 Galaxy Plus  OPCODE社の製品は1999年を最後に開発を停止
image::Opcode_Galaxy01.jpg[640, 480]

.同ライブラリアン
image::Opcode_Galaxy02.jpg[640, 480]



音源のシンセサイズ方式はそれぞれ独自仕様なので、市販されている様々な音源に
専用の対応したエディタをモジュールとして持っているが、世に出ている全ての
シンセに対応することはもちろん出来ない。 

サポートされていない音源であってもユーザーがある程度独自にエディタを作成する機能もある。
ただし、ユーザー作成は機能に制限がありあまり満足のいくエディタを作成できない。
完全なエディタを作れない以上、結局音源を直接操作する必要が生じ、エディタソフトの
意味は無くなる。

=== PCソフトウェアの操作性の問題

エディターソフトがユーザー所有の機材に対応した専用エディタをサポートしていても、
そもそもソフト自体の操作性がよろしくない。

.Emagic社 Sound Diver  スクロールバーに注目。全体のごく一部しか表示されていない
image::Emagic_SoundDiver.jpg[800, 600]

PCの画面上に、実機のつまみを再現してそれをマウスのドラッグで操作するような
インターフェースが良好な操作性を生むはずは無い。

また、シンセによってパラメータの数は異なる。
それらを並べた操作子はウィンドウの大きさがまちまちになり、
かつユーザーが使用しているPCの画面の広さ形状もまちまちなため、
操作しようとしたパラメータの位置まで行くため、あるいは表示するために
スクロールバーをイジらなければならなくなる。

また、これらは原則としてMIDIシーケンサのメーカーが自社製シーケンサ専用に
作ったアプリケーションであるため、組み合わせ選択の自由が無く、
同社のシーケンサと組み合わせて使う必要がある点が、
自由なシステムを組む上で障害となる。
さらに、ずいぶん以前から新作リリースがされておらず、完全に陳腐化している。
現在はVSTプラグインにてエディタやライブラリ管理を行う方法が主流となっているが、
VSTプラグイン自体はSDKを使ってプログラミングする必要があり、ユーザーが自由に作成
できる類のものではないため、使用したい機器に対応したプラグインが存在しなければ
それまでとなる。

PCは、この他にもいくつものソフトウェアを走らせることになる。
そのため、いつでも音色エディタ専用にPCやその画面が使える状態であるわけではない。
だが、音色パラメータの変更は、どの作業段階においても常に必要とされるため、
PC上で現在扱っているソフトウェアの切り替え作業に頻繁に手間と時間をとられてしまう。


== 打開案

=== 要求仕様

1. PCやタブレットのソフトウェアではなく、単体のハードウェアにする。
2. 机の上、あるいはラックマウントして、手元でたくさん所有するシンセの操作すべてを集約できる。
3. 各音色パラメータへシステムエクスクルーシブメッセージで、すなわちダイレクトにアクセス出来る汎用的な物理コントローラ。
4. 操作子はすべて相対値指定タイプ
5. 各シンセのエディタはユーザーが自身で作成可能 -> microSDカードへ保存(公式サイトに追加していくユーザー参加型)
6. 音色データをライブラリ化して管理、および、曲ごとに必要な音色セットや設定も管理できる
7. 各ユニット内のパーツは個別に購入可能とし、消耗品の取り替えなどメンテナンスを各ユーザーが自身の状況に応じて行えるようにする
8. 出来うるならば、ユニットへの接続回路図やプロトコルを公開し、マスターユニット以外はユーザーが自身で作成、拡張できるようにする

汎用化はシンセエディターにおいては少々難しい。
シンセサイザーはその音源方式がそれぞれ独特のデザインであり、
そのため音色エディットに必要となるパラメータも独特のものとなる。

=== 現実的な妥協案
 
==== 断念せざるをえない機能

* サンプラーのサンプルエディット対応
* (デジタル)モジュラーシンセのフルエディット対応

これらは極度に機種固有のものであり、かつソフトウェアとして大規模になるため
対応は非常に難しい。

サンプルは非常にサイズが大きいのでMIDIでの転送は実用的ではない。
必然、別の転送インターフェースを使うべきだが、大半のサンプラーに
搭載されているインターフェースは今な亡きSCSIが多い。
おそらく機種毎の独自のプロトコルを使ってサンプルのデータをやりとりするため
対応は非常に困難。

モジュラーシンセについては、まず、
アナログ式はそもそもパラメータをMIDIエディットできないので除外する。
デジタル式のものについては、シンセが今どんなモジュールをもっているのか、
それぞれのモジュールの持っているパラメータは何か、それらの現在の値は、
モジュールの結線はどうなっているのか、
DSP占有率やメモリ占有率はどうなっているか、等の情報を「全て」
外のエディターに伝られる仕様になっていなければエディタとしてはそもそも対応ができない。
その際のデータプロトコルも全て公開されていなければエディタは作れない。
その条件を満たすモジュラーシンセはほぼ無いと思われる。
(可能性があるとすれば nord moduler くらい)

本来であれば、「全ての機材の操作を手元のコントローラで集約できる」
事が本デバイスの理想形だが、現実的には上記2種は難しい。
結局、サンプラーやモジュラーシンセを使いたい場合は、
それらを手の届く近くの場所に配置するしかなくなる。

==== 操作子ユニット

* エディットにはモード(ページ)があり、それは階層構造とする
* 操作子は 8個 + 1個 を1ユニットとする。このユニットを操作子ユニットとする。モード(ページ)内のパラメータは、この操作子ユニットを使用してエディットする
* 1モード(ページ)内に9以上のパラメータが必要な場合は同ページ内での8パラメータを1セットとした単位での切り替えとする
* 操作子ユニットは複数増設可能とする。増設した場合、各ユニット毎にカレントなモード(ページ)を持つ。すなわち操作子ユニットを1つ増設する毎に同時にエディットできるモードが1つ増える。
* 1ユニットの中に含まれるロータリーエンコーダ 8 + 1 は、1個単位で取り外しが可能。消耗品なので、ユーザーが簡単に交換、メンテナンスできるようにする。

==== マトリクスユニット

* モード(ページ)の切り替えは、マトリクス状にボタンを配置(テンキーのようなもの)したマトリクスユニットにて行う。
* シンセの内部モジュールのパッチング指定など、接続関連の操作も担当する

==== マスターユニット

* マスターユニットには液晶画面とカーソルキーが備わる。
* 音色ライブラリの管理、エクスクルーシブの送受信
* ユーザーが自身の所有する音源への対応モジュールを作成できるエディタ作成

==== 全体

* マスターユニット及びマトリクスユニットは、全体で1ユニットのみ必要

マスターユニットに音色ライブラリアン機能を持たせることにより、もしVSTプラグイン対応したとしても
個々の音源ごとにVSTプラグインに追加モジュールを用意する必要はなく、
コントローラに対するVSTプラグイン一つを作れば済む。

